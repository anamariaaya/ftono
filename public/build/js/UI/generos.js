import{generosInput,gridGeneros}from"./selectores.js";import{readLang,readJSON,eliminarItem,normalizeText}from"../base/funciones.js";export async function consultaGeneros(){try{const e=await fetch(window.location.origin+"/api/public/genres");mostrarGeneros(await e.json())}catch(e){console.log(e)}}export async function mostrarGeneros(e){const t=await readLang();await readJSON();e.forEach(e=>{const{id:n,genero_en:r,genero_es:a}=e,o=document.createElement("A");o.classList.add("p-cards__grid__link"),o.href="#";const s=document.createElement("P");s.classList.add("p-cards__grid__text"),s.textContent="es"==t?a:r;const i=document.createElement("DIV");i.classList.add("p-cards__grid__item","card-public"),o.appendChild(s),i.appendChild(o),gridGeneros.appendChild(i)}),filtrageneros()}function filtrageneros(){generosInput.addEventListener("input",e=>{const t=normalizeText(e.target.value);document.querySelectorAll(".card-public").forEach(e=>{-1!==normalizeText(e.textContent).indexOf(t)?(e.style.display="flex",e.style.marginRight="2rem",gridGeneros.style.columnGap="0"):e.style.display="none"})})}
//# sourceMappingURL=generos.js.map
