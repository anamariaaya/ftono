{"version":3,"sources":["UI/generos.js"],"names":["generosInput","gridGeneros","readLang","readJSON","eliminarItem","normalizeText","async","consultaGeneros","resultado","fetch","window","location","origin","mostrarGeneros","json","error","console","log","datos","lang","forEach","genero","id","genero_en","genero_es","generoLink","document","createElement","classList","add","href","generoTitle","textContent","card","appendChild","filtrageneros","addEventListener","e","texto","target","value","querySelectorAll","indexOf","style","display","marginRight","columnGap"],"mappings":"OAASA,aAAcC,gBAAmB,yBACjCC,SAAUC,SAAUC,aAAcC,kBAAqB,8BAEzDC,eAAeC,kBAClB,IACI,MAAMC,QAAkBC,MAAMC,OAAOC,SAASC,OAAO,sBAErDC,qBADoBL,EAAUM,QAGjC,MAAMC,GACHC,QAAQC,IAAIF,WAGbT,eAAeO,eAAeK,GAC7B,MAAMC,QAAajB,iBACEC,WACrBe,EAAME,QAAQC,IACN,MAAMC,GAACA,EAAEC,UAAEA,EAASC,UAAEA,GAAaH,EAG7BI,EAAaC,SAASC,cAAc,KAC1CF,EAAWG,UAAUC,IAAI,uBACzBJ,EAAWK,KAAO,IAIlB,MAAMC,EAAcL,SAASC,cAAc,KAC3CI,EAAYH,UAAUC,IAAI,uBAElBE,EAAYC,YADT,MAARb,EAC+BK,EAEAD,EAKlC,MAAMU,EAAOP,SAASC,cAAc,OACpCM,EAAKL,UAAUC,IAAI,sBAAuB,eAG1CJ,EAAWS,YAAYH,GAEvBE,EAAKC,YAAYT,GAEjBxB,YAAYiC,YAAYD,KAEhCE,gBAGR,SAASA,gBACDnC,aAAaoC,iBAAiB,QAASC,IAC/B,MAAMC,EAAQjC,cAAcgC,EAAEE,OAAOC,OACvBd,SAASe,iBAAiB,gBAElCrB,QAAQa,KAE6B,IADf5B,cAAc4B,EAAKD,aACxBU,QAAQJ,IACfL,EAAKU,MAAMC,QAAU,OACrBX,EAAKU,MAAME,YAAc,OACzB5C,YAAY0C,MAAMG,UAAY,KAE9Bb,EAAKU,MAAMC,QAAU","file":"generos.js","sourcesContent":["import { generosInput, gridGeneros } from './selectores.js';\r\nimport { readLang, readJSON, eliminarItem, normalizeText } from '../base/funciones.js';\r\n\r\nexport async function consultaGeneros(){\r\n    try{\r\n        const resultado = await fetch(window.location.origin+'/api/public/genres');\r\n        const datos = await resultado.json();\r\n        mostrarGeneros(datos);\r\n\r\n    }catch(error){\r\n        console.log(error);\r\n    }\r\n}\r\nexport async function mostrarGeneros(datos){\r\n        const lang = await readLang();\r\n        const alerts = await readJSON();\r\n        datos.forEach(genero => {\r\n                const {id, genero_en, genero_es} = genero;\r\n\r\n                //generar el link para la genero\r\n                const generoLink = document.createElement('A');\r\n                generoLink.classList.add('p-cards__grid__link');\r\n                generoLink.href = '#';\r\n                \r\n\r\n                //generar la etiqueta para el tipo de usuario\r\n                const generoTitle = document.createElement('P');\r\n                generoTitle.classList.add('p-cards__grid__text');\r\n                if(lang == 'es'){\r\n                        generoTitle.textContent = genero_es;\r\n                }else{\r\n                        generoTitle.textContent = genero_en;\r\n                }\r\n                \r\n\r\n                //Generar el contenedor de la información del usuario\r\n                const card = document.createElement('DIV');\r\n                card.classList.add('p-cards__grid__item', 'card-public');\r\n\r\n                //agregar la información al contenedor\r\n                generoLink.appendChild(generoTitle);\r\n                //agregar el link contenedor a la tarjeta\r\n                card.appendChild(generoLink);\r\n                //agregar el contenedor de la información al grid\r\n                gridGeneros.appendChild(card);\r\n        });\r\n        filtrageneros();\r\n}\r\n\r\nfunction filtrageneros(){\r\n        generosInput.addEventListener('input', e => {\r\n                const texto = normalizeText(e.target.value);\r\n                const cards = document.querySelectorAll('.card-public');\r\n\r\n                cards.forEach(card => {\r\n                        const generoTitle = normalizeText(card.textContent);\r\n                        if(generoTitle.indexOf(texto) !== -1){\r\n                                card.style.display = 'flex';\r\n                                card.style.marginRight = '2rem';\r\n                                gridGeneros.style.columnGap = '0';\r\n                        }else{\r\n                                card.style.display = 'none';\r\n                        }\r\n                });\r\n        }); \r\n}"]}