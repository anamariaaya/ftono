import{categoryInput,gridCategory}from"./selectores.js";import{readLang,readJSON,eliminarItem,normalizeText}from"../base/funciones.js";export async function consultaCategory(){try{const e=new URLSearchParams(window.location.search),t=e.get("id"),r=e.get("name"),a=window.location.origin+"/api/public/category?id="+t+"&name="+r,o=await fetch(a);mostrarCategory(await o.json())}catch(e){console.log(e)}}export async function mostrarCategory(e){const t=await readLang();await readJSON();(e=e.map(e=>({id:e.id,keyword_en:e.keyword_en.toLowerCase(),keyword_es:e.keyword_es.toLowerCase()}))).sort((e,r)=>"es"===t?e.keyword_es<r.keyword_es?-1:e.keyword_es>r.keyword_es?1:0:e.keyword_en<r.keyword_en?-1:e.keyword_en>r.keyword_en?1:0),e.forEach(e=>{const{id:r,keyword_en:a,keyword_es:o}=e,n=document.createElement("A");n.classList.add("p-cards__grid__link"),n.href="#";const d=document.createElement("P");d.classList.add("p-cards__grid__text"),d.textContent="es"==t?o:a;const i=document.createElement("DIV");i.classList.add("p-cards__grid__item","card-public"),n.appendChild(d),i.appendChild(n),gridCategory.appendChild(i)}),filtraCategory()}function filtraCategory(){categoryInput.addEventListener("input",e=>{const t=normalizeText(e.target.value);document.querySelectorAll(".card-public").forEach(e=>{-1!==normalizeText(e.textContent).indexOf(t)?(e.style.display="flex",e.style.marginRight="2rem",gridCategory.style.columnGap="0"):e.style.display="none"})})}
//# sourceMappingURL=category.js.map
