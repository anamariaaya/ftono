import{categoryInput,gridCategory}from"./selectores.js";import{readLang,readJSON,eliminarItem,normalizeText}from"../base/funciones.js";export async function consultaCategory(){try{const e=new URLSearchParams(window.location.search),t=e.get("id"),o=e.get("name");let a="";a=t?window.location.origin+"/api/public/category?id="+t+"&name="+o:window.location.origin+"/api/public/category?name="+o;const r=await fetch(a);mostrarCategory(await r.json())}catch(e){console.log(e)}}export async function mostrarCategory(e){const t=await readLang();await readJSON();(e=e.map(e=>({id:e.id,keyword_en:e.keyword_en.toLowerCase(),keyword_es:e.keyword_es.toLowerCase()}))).sort((e,o)=>"es"===t?e.keyword_es<o.keyword_es?-1:e.keyword_es>o.keyword_es?1:0:e.keyword_en<o.keyword_en?-1:e.keyword_en>o.keyword_en?1:0),e.forEach(e=>{const{id:o,keyword_en:a,keyword_es:r}=e,n=document.createElement("A");n.classList.add("p-cards__grid__link"),n.href="#";const i=document.createElement("P");i.classList.add("p-cards__grid__text"),i.textContent="es"==t?r:a;const d=document.createElement("DIV");d.classList.add("p-cards__grid__item","card-public"),n.appendChild(i),d.appendChild(n),gridCategory.appendChild(d)}),filtraCategory()}function filtraCategory(){categoryInput.addEventListener("input",e=>{const t=normalizeText(e.target.value);document.querySelectorAll(".card-public").forEach(e=>{-1!==normalizeText(e.textContent).indexOf(t)?(e.style.display="flex",e.style.marginRight="2rem",gridCategory.style.columnGap="0"):e.style.display="none"})})}
//# sourceMappingURL=category.js.map
