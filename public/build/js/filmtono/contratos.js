import{contratos,contratosContainer}from"./selectores.js";import{imprimirAlerta,readLang,readJSON}from"../base/funciones.js";export async function consultaContratos(){try{const t=await fetch(window.location.origin+"/api/filmtono/contracts");mostrarContratos(await t.json())}catch(t){console.log(t)}}async function mostrarContratos(t){const e=await readLang(),a=await readJSON();t.forEach(t=>{const n=t.nombre_doc.split("-")[2],{id:d,nombre:c,apellido:s,empresa:o,fecha:r,nombre_doc:i}=t,l=document.createElement("a");l.href="/filmtono/contracts/current?id="+d+"&type="+n;const p=document.createElement("div");p.classList.add("cards__card");const m=document.createElement("div");m.classList.add("cards__info");const _=document.createElement("div");_.classList.add("cards__info--div");const C=document.createElement("p");C.textContent=a["contracts_user-name"][e]+":",C.classList.add("cards__text","cards__text--span");const h=document.createElement("p");h.textContent=`${c} ${s}`,h.classList.add("cards__text"),_.appendChild(C),_.appendChild(h);const u=document.createElement("div");u.classList.add("cards__info--div");const x=document.createElement("p");x.textContent=a.contracts_empresa[e]+":",x.classList.add("cards__text","cards__text--span");const f=document.createElement("p");f.textContent=o,f.classList.add("cards__text"),u.appendChild(x),u.appendChild(f);const E=document.createElement("div");E.classList.add("cards__info--div");const L=document.createElement("p");L.textContent=a.contracts_type[e]+":",L.classList.add("cards__text","cards__text--span");const v=document.createElement("p");v.textContent=n,v.classList.add("cards__text"),E.appendChild(L),E.appendChild(v);const b=document.createElement("div");b.classList.add("cards__info--div");const w=document.createElement("p");w.textContent=a.contracts_fecha[e]+":",w.classList.add("cards__text","cards__text--span");const y=document.createElement("p");y.textContent=r,y.classList.add("cards__text"),b.appendChild(w),b.appendChild(y);const g=document.createElement("div");g.classList.add("cards__actions");const j=document.createElement("button");j.classList.add("btn-delete"),j.id="eliminar-contrato";const J=document.createElement("i");J.classList.add("fa-solid","fa-trash-can","no-click"),j.appendChild(J),g.appendChild(j),m.appendChild(_),m.appendChild(u),m.appendChild(E),m.appendChild(b),p.appendChild(m),p.appendChild(g),l.appendChild(p),contratosContainer.appendChild(l)})}
//# sourceMappingURL=contratos.js.map
