{"version":3,"sources":["filmtono/users.js"],"names":["gridUsuarios","crearAlerta","mostrarUsuarios","datos","forEach","usuario","id","nombre","apellido","email","confirmado","nivel_admin","nivel_musica","compradores","empresa","tipoUsuario","document","createElement","classList","add","textContent","empresaUsuario","nombreUsuario","emailUsuario","estadoUsuario","btnInfo","href","iconoOjo","appendChild","btnEditar","iconoLapiz","btnEliminar","value","onclick","eliminarUsuario","iconoBasura","contenedorBotones","card","e","preventDefault","target"],"mappings":"OAASA,iBAAoB,yBACpBC,gBAAmB,8BAErB,SAASC,gBAAgBC,GACxBA,EAAMC,QAAQC,IACN,MAAMC,GAACA,EAAEC,OAAEA,EAAMC,SAAEA,EAAQC,MAAEA,EAAKC,WAAEA,EAAUC,YAAEA,EAAWC,aAAEA,EAAYC,YAAEA,EAAWC,QAAEA,GAAWT,EAG7FU,EAAcC,SAASC,cAAc,MAC3CF,EAAYG,UAAUC,IAAI,eAElBJ,EAAYK,YADjBT,EAC+B,gBACzBC,EACkB,GAAhBA,EAC+B,YAEA,QAGR,YAIlC,MAAMS,EAAiBL,SAASC,cAAc,KAC9CI,EAAeH,UAAUC,IAAI,qBAC7BE,EAAeD,YAAcN,EAI7B,MAAMQ,EAAgBN,SAASC,cAAc,KAC7CK,EAAcJ,UAAUC,IAAI,cAC5BG,EAAcF,YAAcb,EAAS,IAAMC,EAG3C,MAAMe,EAAeP,SAASC,cAAc,KAC5CM,EAAaL,UAAUC,IAAI,cAC3BI,EAAaH,YAAcX,EAG3B,MAAMe,EAAgBR,SAASC,cAAc,KAC7CO,EAAcN,UAAUC,IAAI,oBAEpBK,EAAcJ,YADnBV,EACiC,aAEA,gBAIpC,MAAMe,EAAUT,SAASC,cAAc,KACvCQ,EAAQP,UAAUC,IAAI,YACtBM,EAAQL,YAAc,UACtBK,EAAQC,KAAO,mBAAmBpB,EAGlC,MAAMqB,EAAWX,SAASC,cAAc,KACxCU,EAAST,UAAUC,IAAI,WAAY,UAGnCM,EAAQG,YAAYD,GAGpB,MAAME,EAAYb,SAASC,cAAc,KACzCY,EAAUX,UAAUC,IAAI,cACxBU,EAAUH,KAAO,2BAA2BpB,EAG5C,MAAMwB,EAAad,SAASC,cAAc,KAC1Ca,EAAWZ,UAAUC,IAAI,WAAY,YAAa,YAGlDU,EAAUD,YAAYE,GAGtB,MAAMC,EAAcf,SAASC,cAAc,UAC3Cc,EAAYb,UAAUC,IAAI,cAC1BY,EAAYC,MAAQ1B,EACpByB,EAAYE,QAAUC,gBAGtB,MAAMC,EAAcnB,SAASC,cAAc,KAC3CkB,EAAYjB,UAAUC,IAAI,WAAY,eAAgB,YAGtDY,EAAYH,YAAYO,GAGxB,MAAMC,EAAoBpB,SAASC,cAAc,OACjDmB,EAAkBlB,UAAUC,IAAI,kBAGhCiB,EAAkBR,YAAYC,GAC9BO,EAAkBR,YAAYG,GAG9B,MAAMM,EAAOrB,SAASC,cAAc,OACpCoB,EAAKnB,UAAUC,IAAI,QAGnBkB,EAAKT,YAAYb,GACdD,GACKuB,EAAKT,YAAYP,GAEzBgB,EAAKT,YAAYN,GACjBe,EAAKT,YAAYL,GACjBc,EAAKT,YAAYJ,GACjBa,EAAKT,YAAYH,GACjBY,EAAKT,YAAYQ,GAGjBpC,aAAa4B,YAAYS,YAIlC,SAASH,gBAAgBI,GACxBA,EAAEC,iBACSD,EAAEE,OAAOR,MACpB/B,YAAY","file":"users.js","sourcesContent":["import { gridUsuarios } from './selectores.js';\r\nimport { crearAlerta } from '../base/funciones.js';\r\n\r\nexport function mostrarUsuarios(datos){\r\n        datos.forEach(usuario => {\r\n                const {id, nombre, apellido, email, confirmado, nivel_admin, nivel_musica, compradores, empresa} = usuario;\r\n\r\n                //generar la etiqueta para el tipo de usuario\r\n                const tipoUsuario = document.createElement('H3');\r\n                tipoUsuario.classList.add('card__title');\r\n                if(nivel_admin){\r\n                        tipoUsuario.textContent = 'Administrador';\r\n                }else if(nivel_musica){\r\n                        if(nivel_musica == 2){\r\n                                tipoUsuario.textContent = 'Editorial';\r\n                        }else {\r\n                                tipoUsuario.textContent = 'Sello';\r\n                        }\r\n                }else{\r\n                        tipoUsuario.textContent = 'Comprador';\r\n                }\r\n\r\n                //generar la etiqueta para la empresa\r\n                const empresaUsuario = document.createElement('P');\r\n                empresaUsuario.classList.add('card__info--title');\r\n                empresaUsuario.textContent = empresa;\r\n\r\n\r\n                //generar la etiqueta para el nombre\r\n                const nombreUsuario = document.createElement('P');\r\n                nombreUsuario.classList.add('card__info');\r\n                nombreUsuario.textContent = nombre + ' ' + apellido;\r\n                \r\n                //generar la etiqueta para el email\r\n                const emailUsuario = document.createElement('P');\r\n                emailUsuario.classList.add('card__info');\r\n                emailUsuario.textContent = email;\r\n\r\n                //generar la etiqueta para el estado\r\n                const estadoUsuario = document.createElement('P');\r\n                estadoUsuario.classList.add('card__info--span');\r\n                if(confirmado){\r\n                        estadoUsuario.textContent = 'Confirmado';\r\n                }else{\r\n                        estadoUsuario.textContent = 'Sin confirmar';\r\n                }\r\n\r\n                //generar el botón para abir el modal con la información del usuario\r\n                const btnInfo = document.createElement('A');\r\n                btnInfo.classList.add('btn-view');\r\n                btnInfo.textContent = 'Ver más';\r\n                btnInfo.href = `/filmtono/users/${id}`;\r\n\r\n                //general ícono de ojo para el botón de ver más\r\n                const iconoOjo = document.createElement('I');\r\n                iconoOjo.classList.add('fa-solid', 'fa-eye');\r\n\r\n                //Agregar el ícono al botón\r\n                btnInfo.appendChild(iconoOjo);\r\n\r\n                //generar el botón para editar el usuario\r\n                const btnEditar = document.createElement('A');\r\n                btnEditar.classList.add('btn-update');\r\n                btnEditar.href = `/filmtono/users/edit?id=${id}`;\r\n\r\n                //generar ícono de lápiz para el botón de editar\r\n                const iconoLapiz = document.createElement('I');\r\n                iconoLapiz.classList.add('fa-solid', 'fa-pencil', 'no-click');\r\n\r\n                //Agregar el ícono al botón\r\n                btnEditar.appendChild(iconoLapiz);\r\n\r\n                //generar el botón para eliminar el usuario\r\n                const btnEliminar = document.createElement('BUTTON');\r\n                btnEliminar.classList.add('btn-delete');\r\n                btnEliminar.value = id;\r\n                btnEliminar.onclick = eliminarUsuario;\r\n                \r\n                //generar ícono de basura para el botón de eliminar\r\n                const iconoBasura = document.createElement('I');\r\n                iconoBasura.classList.add('fa-solid', 'fa-trash-can', 'no-click');\r\n\r\n                //Agregar el ícono al botón\r\n                btnEliminar.appendChild(iconoBasura);\r\n\r\n                //generar el contenedor de los botones\r\n                const contenedorBotones = document.createElement('DIV');\r\n                contenedorBotones.classList.add('card__acciones');\r\n\r\n                //agregar los botones al contenedor\r\n                contenedorBotones.appendChild(btnEditar);\r\n                contenedorBotones.appendChild(btnEliminar);\r\n\r\n                //Generar el contenedor de la información del usuario\r\n                const card = document.createElement('DIV');\r\n                card.classList.add('card');\r\n\r\n                //agregar la información al contenedor\r\n                card.appendChild(tipoUsuario);\r\n                if(empresa){\r\n                        card.appendChild(empresaUsuario);\r\n                }\r\n                card.appendChild(nombreUsuario);\r\n                card.appendChild(emailUsuario);\r\n                card.appendChild(estadoUsuario);\r\n                card.appendChild(btnInfo);\r\n                card.appendChild(contenedorBotones);\r\n\r\n                //agregar el contenedor de la información al grid\r\n                gridUsuarios.appendChild(card);\r\n        });\r\n}\r\n\r\nexport function eliminarUsuario(e){\r\n        e.preventDefault();\r\n        const id = e.target.value;\r\n        crearAlerta('/filmtono/users/delete');\r\n}"]}