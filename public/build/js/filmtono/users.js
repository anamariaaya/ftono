import{gridUsuarios}from"./selectores.js";import{eliminarItem}from"../base/funciones.js";import{readLang,readJSON}from"../base/funciones.js";export async function consultaUsuarios(){try{const e=await fetch(window.location.origin+"/api/filmtono/users");mostrarUsuarios(await e.json())}catch(e){console.log(e)}}export async function mostrarUsuarios(e){const t=await readLang();await readJSON();e.forEach(e=>{const{id:n,nombre:a,apellido:o,email:s,confirmado:i,perfil:c,nivel:d,tipo_es:l,tipo_en:r,empresa:m}=e,p=document.createElement("H3");p.classList.add("card__title"),p.textContent=null!=d?"es"===t?l:r:"Admin";const u=document.createElement("P");u.classList.add("card__info--title"),u.textContent=m;const f=document.createElement("P");f.classList.add("card__info"),f.textContent=a+" "+o;const C=document.createElement("P");C.classList.add("card__info"),C.textContent=s;const h=document.createElement("P");h.classList.add("card__info--span"),h.textContent="1"===i?"Confirmado":"Sin confirmar";const L=document.createElement("P");L.classList.add("card__info--span"),L.textContent="1"===c?"Perfil completo":"Perfil incompleto";const E=document.createElement("A");E.classList.add("btn-view"),E.textContent="Ver mÃ¡s",E.href="/filmtono/users/current?id="+n;const _=document.createElement("I");_.classList.add("fa-solid","fa-eye"),E.appendChild(_);document.createElement("I").classList.add("fa-solid","fa-pencil","no-click");const x=document.createElement("BUTTON");x.classList.add("btn-delete"),x.value=n,x.dataset.role="filmtono",x.dataset.item="users",x.onclick=eliminarItem;const y=document.createElement("I");y.classList.add("fa-solid","fa-trash-can","no-click"),x.appendChild(y),x.onclick=eliminarItem;const g=document.createElement("DIV");g.classList.add("card__acciones"),g.appendChild(x);const w=document.createElement("DIV");w.classList.add("card"),w.appendChild(p),m&&w.appendChild(u),w.appendChild(f),w.appendChild(C),w.appendChild(h),null!=d&&w.appendChild(L),w.appendChild(u),w.appendChild(E),w.appendChild(g),gridUsuarios.appendChild(w)}),filtrarUsuarios()}function filtrarUsuarios(){document.querySelector("#usuario-search").addEventListener("input",e=>{const t=e.target.value.toLowerCase();console.log(t);document.querySelectorAll(".card").forEach(e=>{-1!==e.textContent.toLowerCase().indexOf(t)?(e.style.display="flex",e.style.marginRight="2rem",gridUsuarios.style.columnGap="0"):e.style.display="none"})})}
//# sourceMappingURL=users.js.map
