import{gridUsuarios}from"./selectores.js";import{eliminarItem}from"../base/funciones.js";import{readLang,readJSON}from"../base/funciones.js";export async function consultaUsuarios(){try{const e=await fetch(window.location.origin+"/api/filmtono/users");mostrarUsuarios(await e.json())}catch(e){console.log(e)}}export async function mostrarUsuarios(e){const t=await readLang(),n=await readJSON();e.forEach(e=>{const{id:a,nombre:o,apellido:s,email:i,confirmado:c,perfil:d,nivel:r,tipo_es:l,tipo_en:m,empresa:p}=e,u=document.createElement("H3");u.classList.add("card__title"),u.textContent=null!=r?"es"===t?l:m:"Admin";const f=document.createElement("P");f.classList.add("card__info--title"),f.textContent=p;const C=document.createElement("P");C.classList.add("card__info"),C.textContent=o+" "+s;const h=document.createElement("P");h.classList.add("card__info"),h.textContent=i;const L=document.createElement("P");L.classList.add("card__info--span"),L.textContent="1"===c?n.confirmed[t]:n["not-confirmed"][t];const _=document.createElement("P");_.classList.add("card__info--span"),_.textContent="1"===d?n["profile-complete"][t]:n["profile-incomplete"][t];const E=document.createElement("A");E.classList.add("btn-view"),E.textContent=n["see-more"][t],E.href="/filmtono/users/current?id="+a;const x=document.createElement("I");x.classList.add("fa-solid","fa-eye"),E.appendChild(x);const y=document.createElement("BUTTON");y.classList.add("btn-delete"),y.value=a,y.dataset.role="filmtono",y.dataset.item="users",y.onclick=eliminarItem;const g=document.createElement("I");g.classList.add("fa-solid","fa-trash-can","no-click"),y.appendChild(g),y.onclick=eliminarItem;const w=document.createElement("DIV");w.classList.add("card__acciones"),w.appendChild(y);const U=document.createElement("DIV");U.classList.add("card"),U.appendChild(u),p&&U.appendChild(f),U.appendChild(C),U.appendChild(h),U.appendChild(L),null!=r&&U.appendChild(_),U.appendChild(f),U.appendChild(E),U.appendChild(w),gridUsuarios.appendChild(U)}),filtrarUsuarios()}function filtrarUsuarios(){document.querySelector("#usuario-search").addEventListener("input",e=>{const t=e.target.value.toLowerCase();console.log(t);document.querySelectorAll(".card").forEach(e=>{-1!==e.textContent.toLowerCase().indexOf(t)?(e.style.display="flex",e.style.marginRight="2rem",gridUsuarios.style.columnGap="0"):e.style.display="none"})})}
//# sourceMappingURL=users.js.map
