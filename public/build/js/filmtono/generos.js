import{generosInput,gridGeneros}from"./selectores.js";import{readLang,readJSON,eliminarItem,normalizeText}from"../base/funciones.js";export async function consultaGeneros(){try{const e=await fetch(window.location.origin+"/api/filmtono/genres");mostrarGeneros(await e.json())}catch(e){console.log(e)}}export async function mostrarGeneros(e){const t=await readLang();await readJSON();e.forEach(e=>{const{id:n,genero_en:a,genero_es:o}=e,s=document.createElement("DIV");s.classList.add("cards__div");const c=document.createElement("H3");c.classList.add("card__info--title"),c.textContent="es"==t?o:a;const i=document.createElement("A");i.classList.add("btn-update"),i.href="/filmtono/genres/edit?id="+n;const d=document.createElement("I");d.classList.add("fa-solid","fa-pencil","no-click"),i.appendChild(d);const r=document.createElement("BUTTON");r.classList.add("btn-delete"),r.value=n,r.dataset.role="filmtono",r.dataset.item="genres",r.onclick=eliminarItem;const l=document.createElement("I");l.classList.add("fa-solid","fa-trash-can","no-click"),r.appendChild(l),r.onclick=eliminarItem;const m=document.createElement("DIV");m.classList.add("card__acciones"),m.appendChild(i),m.appendChild(r);const p=document.createElement("DIV");p.classList.add("card"),s.appendChild(c),s.appendChild(m),p.appendChild(s),gridGeneros.appendChild(p)}),filtrarGeneros()}function filtrarGeneros(){generosInput.addEventListener("input",e=>{const t=normalizeText(e.target.value);document.querySelectorAll(".card").forEach(e=>{-1!==normalizeText(e.textContent).indexOf(t)?(e.style.display="flex",e.style.marginRight="2rem",gridGeneros.style.columnGap="0"):e.style.display="none"})})}
//# sourceMappingURL=generos.js.map
