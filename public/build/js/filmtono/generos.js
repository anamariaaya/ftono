import{generosInput,gridGeneros}from"./selectores.js";import{eliminarItem}from"../base/funciones.js";import{readLang,readJSON}from"../base/funciones.js";export async function consultaGeneros(){try{const e=await fetch(window.location.origin+"/api/filmtono/genres");mostrarGeneros(await e.json())}catch(e){console.log(e)}}export async function mostrarGeneros(e){const t=await readLang();await readJSON();e.forEach(e=>{const{id:n,genero_en:a,genero_es:o}=e,s=document.createElement("DIV");s.classList.add("cards__div");const c=document.createElement("H3");c.classList.add("card__info--title"),c.textContent="es"==t?o:a;const r=document.createElement("A");r.classList.add("btn-update"),r.href="/filmtono/genres/edit?id="+n;const d=document.createElement("I");d.classList.add("fa-solid","fa-pencil","no-click"),r.appendChild(d);const i=document.createElement("BUTTON");i.classList.add("btn-delete"),i.value=n,i.dataset.role="filmtono",i.dataset.item="genres",i.onclick=eliminarItem;const l=document.createElement("I");l.classList.add("fa-solid","fa-trash-can","no-click"),i.appendChild(l),i.onclick=eliminarItem;const m=document.createElement("DIV");m.classList.add("card__acciones"),m.appendChild(r),m.appendChild(i);const p=document.createElement("DIV");p.classList.add("card"),s.appendChild(c),s.appendChild(m),p.appendChild(s),gridGeneros.appendChild(p)}),filtrarGeneros()}function filtrarGeneros(){generosInput.addEventListener("input",e=>{const t=e.target.value.toLowerCase();document.querySelectorAll(".card").forEach(e=>{-1!==e.textContent.toLowerCase().indexOf(t)?(e.style.display="flex",e.style.marginRight="2rem",gridGeneros.style.columnGap="0"):e.style.display="none"})})}
//# sourceMappingURL=generos.js.map
