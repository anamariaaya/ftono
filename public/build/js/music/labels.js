import{gridSellos,sellosInput}from"./selectores.js";import{readLang,readJSON,eliminarItem,normalizeText}from"../base/funciones.js";export async function consultaSellos(){try{const e=await fetch(window.location.origin+"/api/music/labels");mostrarSellos(await e.json())}catch(e){console.log(e)}}async function mostrarSellos(e){const t=await readLang();await readJSON();e.forEach(e=>{const{id:a,nombre:n,creado:s}=e,l=document.createElement("div");l.classList.add("cards__card");const d=document.createElement("div");d.classList.add("cards__info");const c=document.createElement("p");c.textContent=n,c.classList.add("cards__text","cards__text--span");const o=document.createElement("p"),i=new Date(s).toLocaleDateString(t,{year:"numeric",month:"short",day:"numeric"});o.textContent=i,o.classList.add("cards__text");const r=document.createElement("div");r.classList.add("cards__actions");const m=document.createElement("A");m.classList.add("btn-update"),m.href="/music/labels/edit?id="+a;const p=document.createElement("I");p.classList.add("fa-solid","fa-pencil","no-click"),m.appendChild(p);const u=document.createElement("button");u.classList.add("btn-delete"),u.id="eliminar",u.value=a,u.dataset.item="labels",u.dataset.role="music",u.onclick=eliminarItem;const f=document.createElement("i");f.classList.add("fa-solid","fa-trash-can","no-click"),u.appendChild(f),r.appendChild(m),r.appendChild(u),d.appendChild(c),d.appendChild(o),l.appendChild(d),l.appendChild(r),gridSellos.appendChild(l)}),filtrarSellos()}function filtrarSellos(){sellosInput.addEventListener("input",e=>{const t=normalizeText(e.target.value);document.querySelectorAll(".cards__card").forEach(e=>{-1!==normalizeText(e.textContent).indexOf(t)?(e.style.display="flex",e.style.marginRight="2rem",gridSellos.style.columnGap="0"):e.style.display="none"})})}
//# sourceMappingURL=labels.js.map
