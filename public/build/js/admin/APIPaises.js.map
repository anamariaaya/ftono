{"version":3,"sources":["admin/APIPaises.js"],"names":["validarFormulario","selectPais","readLang","async","consultaPaises","url","resultado","fetch","mostrarPaises","json","error","console","log","datos","then","lang","forEach","pais","sort","a","b","translations","spa","common","option","document","createElement","value","textContent","appendChild","name","cca2","paisElegido","addEventListener"],"mappings":"OAASA,sBAAyB,8BACzBC,eAAkB,yBAClBC,aAAe,8BAIjBC,eAAeC,iBAClB,IACI,IAAIC,EAAM,qCAIV,MAAMC,QAAkBC,MAAMF,GAE9BG,oBADoBF,EAAUG,QAEjC,MAAMC,GACHC,QAAQC,IAAIF,IAKpB,SAASF,cAAcK,GACnBX,WAAWY,KAAKC,IACI,OAATA,EACCF,EAAMG,QAAQC,IAEVJ,EAAMK,KAAK,CAACC,EAAGC,IACRD,EAAEE,aAAaC,IAAIC,OAASH,EAAEC,aAAaC,IAAIC,QACtC,EAETJ,EAAEE,aAAaC,IAAIC,OAASH,EAAEC,aAAaC,IAAIC,OACvC,EAEJ,GAGX,MAAMC,EAASC,SAASC,cAAc,UACtCF,EAAOG,MAAQV,EAAKI,aAAaC,IAAIC,OACrCC,EAAOI,YAAcX,EAAKI,aAAaC,IAAIC,OAC3CtB,WAAW4B,YAAYL,KAG3BX,EAAMG,QAAQC,IAEVJ,EAAMK,KAAK,CAACC,EAAGC,IACRD,EAAEW,KAAKP,OAASH,EAAEU,KAAKP,QACd,EAETJ,EAAEW,KAAKP,OAASH,EAAEU,KAAKP,OACf,EAEJ,GAIX,MAAMC,EAASC,SAASC,cAAc,UACtCF,EAAOG,MAAQV,EAAKc,KACpBP,EAAOI,YAAcX,EAAKa,KAAKP,OAC/BtB,WAAW4B,YAAYL,cAOpC,SAASQ,cACZ/B,WAAWgC,iBAAiB,OAAQjC","file":"APIPaises.js","sourcesContent":["import { validarFormulario } from \"../base/funciones.js\";\r\nimport { selectPais } from \"./selectores.js\";\r\nimport  {readLang} from \"../base/funciones.js\";\r\n//import { validarFormulario } from '../base/funciones.js';\r\n\r\n\r\nexport async function consultaPaises(){\r\n    try{\r\n        let url = `https://restcountries.com/v3.1/all`;\r\n        // if(lang !== 'en'){\r\n        //     url += `&lang=${lang}`;\r\n        // }\r\n        const resultado = await fetch(url);\r\n        const datos = await resultado.json();\r\n        mostrarPaises(datos);\r\n    }catch(error){\r\n        console.log(error);\r\n    }\r\n}\r\n\r\n\r\nfunction mostrarPaises(datos){\r\n    readLang().then(lang => {\r\n            if(lang === 'es'){\r\n                datos.forEach(pais => {\r\n                    //ordenar los paises por orden alfabético\r\n                    datos.sort((a, b) => {\r\n                        if(a.translations.spa.common < b.translations.spa.common){\r\n                            return -1;\r\n                        }\r\n                        if(a.translations.spa.common > b.translations.spa.common){\r\n                            return 1;\r\n                        }\r\n                        return 0;\r\n                    });\r\n                    //crear option con el nombre del pais\r\n                    const option = document.createElement('option');\r\n                    option.value = pais.translations.spa.common;\r\n                    option.textContent = pais.translations.spa.common;\r\n                    selectPais.appendChild(option);\r\n                });\r\n            } else{\r\n                datos.forEach(pais => {\r\n                    //ordenar los países por orden alfabético\r\n                    datos.sort((a, b) => {\r\n                        if(a.name.common < b.name.common){\r\n                            return -1;\r\n                        }\r\n                        if(a.name.common > b.name.common){\r\n                            return 1;\r\n                        }\r\n                        return 0;\r\n                    });\r\n\r\n                    //crear option con el nombre del pais\r\n                    const option = document.createElement('option');\r\n                    option.value = pais.cca2;\r\n                    option.textContent = pais.name.common;\r\n                    selectPais.appendChild(option);  \r\n                });\r\n            }\r\n        }\r\n    );\r\n}\r\n\r\nexport function paisElegido(){\r\n    selectPais.addEventListener('blur', validarFormulario);\r\n}\r\n\r\n"]}