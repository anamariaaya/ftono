{"version":3,"sources":["admin/perfiles.js"],"names":["botones","pagAnterior","pagSiguiente","afterNav","btnContrato","nombre","email","cargo","telContacto","empresa","idFiscal","direccion","terms","privacy","divCheck","btnSubmit","paisContacto","telIndex","hiddenMusic","hiddenArtistic","contratoMusical","contratoArtistico","confirmContrato","confirmContratoArt","selectPais","validarFormulario","imprimirAlerta","loader","readJSON","readLang","checkMusical","paso","tabs","validarTab1","forEach","tab","addEventListener","e","target","dataset","cambiarSeccion","botonesPaginador","secciones","document","querySelectorAll","tabActivo","querySelector","inputs","classList","add","id","remove","validarTab","arrayInputs","Array","from","input","every","value","async","lang","alerts","textContent","onclick","validarCheck","btn","modalContrato","paginador","paginaAnterior","paginaSiguiente","contains","click","formularioReg","preventDefault","checked","alertaCheck","message","divMensaje","createElement","error","appendChild","setTimeout","getContrato","url","res","fetch","json","err","console","log","body","divModal","modal","btnCerrar","innerHTML","cerrarModal","window","location","origin","divContrato","contrato","firmaTitulo","signature","firmaInfo","signatureInfo","formCanvas","canvas","innerWidth","width","height","style","border","backgroundColor","margin","display","ctx","getContext","fillStyle","strokeStyle","lineWidth","lineCap","isDrawing","x","y","startDrawing","touches","overflow","pageX","offsetLeft","pageY","offsetTop","offsetX","offsetY","draw","beginPath","moveTo","lineTo","stroke","stopDrawing","clearBtn","clearRect","isCanvasBlank","sendBtn","canvasValidation","datosContrato","paisContrato","toDataURL","context","Uint32Array","getImageData","data","buffer","some","color","paisFirmas","contPais","then","respuesta","datos","translations","spa","common","name","contEmpresa","contNombre","contIdFiscal","contDireccion","contTelefono","contEmail","getElementById","src"],"mappings":"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","file":"perfiles.js","sourcesContent":["//Módulos importados\r\nimport { botones, pagAnterior, pagSiguiente, afterNav, btnContrato, nombre, email, cargo, telContacto, empresa, idFiscal, direccion, terms, privacy, divCheck, btnSubmit, paisContacto, telIndex, hiddenMusic, hiddenArtistic, contratoMusical, contratoArtistico, confirmContrato, confirmContratoArt, selectPais} from './selectores.js';\r\nimport { validarFormulario, imprimirAlerta, loader, readJSON, readLang } from '../base/funciones.js';\r\n\r\n\r\n//Variables globales\r\nlet checkMusical = false;\r\nlet paso = 1;\r\n\r\n//Funciones para el registro de empresa\r\n//*Paginador y tabs\r\n\r\nexport function tabs() {\r\n    validarTab1();\r\n    botones.forEach(tab => {\r\n        tab.addEventListener('click', function(e) {\r\n            paso = e.target.dataset.paso;\r\n            cambiarSeccion(e);\r\n            botonesPaginador();\r\n        });\r\n    });\r\n}\r\nconst secciones = document.querySelectorAll('.tabs__section');\r\nfunction cambiarSeccion(e) {   \r\n    const tabActivo = document.querySelector(`#paso-${paso}`);\r\n    tabActivo.classList.add('mostrar');\r\n    e.target.classList.add('active');\r\n    let inputs;\r\n    // Remueve la clase active de los botones\r\n    if(tabActivo.id === 'paso-1'){\r\n        botones[0].classList.add('active');\r\n        botones[1].classList.remove('active');\r\n        botones[2].classList.remove('active');\r\n        secciones[0].classList.add('mostrar');\r\n        secciones[1].classList.remove('mostrar');\r\n        secciones[2].classList.remove('mostrar');\r\n        inputs = [cargo, telContacto, paisContacto];\r\n    } else if(tabActivo.id === 'paso-2'){\r\n        botones[1].classList.add('active');\r\n        botones[2].classList.remove('active');\r\n        secciones[1].classList.add('mostrar');\r\n        secciones[2].classList.remove('mostrar');\r\n        secciones[0].classList.remove('mostrar');\r\n        inputs = [empresa, idFiscal, direccion];\r\n    } else{\r\n        botones[1].classList.add('active');\r\n        botones[2].classList.add('active');\r\n        secciones[2].classList.add('mostrar');\r\n        secciones[0].classList.remove('mostrar');\r\n        secciones[1].classList.remove('mostrar');\r\n    }\r\n}\r\n\r\nfunction validarTab(inputs){\r\n    let tabActive = document.querySelector(\".mostrar\");\r\n\r\n    if(tabActive.id === 'paso-2'){\r\n    pagSiguiente.classList.add('btn-disabled');\r\n    const arrayInputs = Array.from(inputs);\r\n    //agregar event listener a los campos\r\n        arrayInputs.forEach(input => {\r\n            input.addEventListener('input', ()=>{\r\n                if(arrayInputs.every( input => input.value !== '')){\r\n                    pagSiguiente.classList.remove('btn-disabled');\r\n                }else{\r\n                    pagSiguiente.classList.add('btn-disabled');\r\n                }\r\n            });\r\n        });  \r\n    } //validar que el array de inputs no este vacio\r\n\r\n}\r\n\r\nfunction validarTab1(){\r\n    const inputs = [cargo, telContacto, paisContacto];\r\n    const arrayInputs = Array.from(inputs);\r\n\r\n    //agregar event listener a los campos\r\n    arrayInputs.forEach(input => {\r\n        input.addEventListener('input', ()=>{\r\n            if(arrayInputs.every( input => input.value !== '')){\r\n                pagSiguiente.classList.remove('btn-tabs--disabled');\r\n            }else{\r\n                pagSiguiente.classList.add('btn-tabs--disabled');\r\n            }\r\n        });\r\n    });   //validar que el array de inputs no este vacio\r\n\r\n}\r\n\r\nasync function botonesPaginador(){ \r\n    const lang = await readLang();\r\n    const alerts = await readJSON();\r\n\r\n    switch(paso) {\r\n        case '1':\r\n            pagAnterior.classList.add('ocultar');\r\n            pagSiguiente.classList.remove('ocultar');\r\n            afterNav.classList.remove('step2');\r\n            afterNav.classList.remove('step3');\r\n            pagSiguiente.classList.remove('btn-tabs--disabled');\r\n            break;\r\n        case '2':\r\n            pagAnterior.classList.remove('ocultar');\r\n            pagSiguiente.classList.remove('ocultar');\r\n            afterNav.classList.add('step2');\r\n            afterNav.classList.remove('step3');\r\n            pagSiguiente.classList.remove('btn-tabs--disabled');\r\n            pagSiguiente.textContent = alerts['next'][lang]+' \\u2713';\r\n            break;\r\n        case '3':\r\n            pagAnterior.classList.remove('ocultar');\r\n            pagSiguiente.textContent = alerts['register'][lang]+' \\u2713';\r\n            pagSiguiente.onclick = validarCheck;\r\n            afterNav.classList.add('step3');\r\n            afterNav.classList.remove('step2');\r\n            if(btnContrato){\r\n                btnContrato.forEach(btn => {\r\n                    btn.onclick = modalContrato;\r\n                });\r\n            };\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n}\r\n\r\nexport function paginador(){\r\n    pagAnterior.addEventListener('click', paginaAnterior);\r\n    pagSiguiente.addEventListener('click',paginaSiguiente);\r\n}\r\n\r\nfunction paginaSiguiente(){\r\n    if(!botones[1].classList.contains('active')){\r\n        botones[1].click();\r\n        const inputs = [empresa, idFiscal, direccion];\r\n        validarTab(inputs);\r\n    } else if(!botones[2].classList.contains('active')){\r\n        botones[2].click();\r\n    }\r\n}\r\n\r\nfunction paginaAnterior(e){\r\n    if(botones[2].classList.contains('active')){\r\n        pagSiguiente.classList.remove('btn-disabled');\r\n        botones[1].click();        \r\n    } else if(botones[1].classList.contains('active')){\r\n        pagSiguiente.classList.remove('btn-disabled');\r\n        botones[0].click();        \r\n    }\r\n}\r\n\r\n//Validación de formulario de registro de empresa\r\nexport function formularioReg(){\r\n    cargo.addEventListener('blur', validarFormulario);\r\n    telContacto.addEventListener('blur', validarFormulario);\r\n    empresa.addEventListener('blur', validarFormulario);\r\n    idFiscal.addEventListener('blur', validarFormulario);\r\n    direccion.addEventListener('blur', validarFormulario);\r\n}\r\n\r\nfunction validarCheck(e){\r\n    e.preventDefault();\r\n    if(!terms.checked){\r\n        alertaCheck('terms');\r\n    } else if(!privacy.checked){\r\n        alertaCheck('privacy');\r\n    // } else if(btnContrato){\r\n    //      if(checkMusical === false){\r\n    //         alertaCheck('contract');\r\n    //     }\r\n    }\r\n    else{\r\n        //comprobar que todos los inputs tengan un valor\r\n        const inputs = [cargo, telContacto, empresa, idFiscal,  direccion];\r\n        const arrayInputs = Array.from(inputs);\r\n        loader(btnSubmit);\r\n\r\n        if(arrayInputs.every( input => input.value !== '')){\r\n            btnSubmit.click();\r\n            //Add loader function when clicking the submit button\r\n        } else{\r\n            alertaCheck('inputs');\r\n        }\r\n    }\r\n}\r\n\r\nasync function alertaCheck(message){\r\n    // Crea el div\r\n    const divMensaje = document.createElement('div');\r\n    divMensaje.classList.add('alerta__error');\r\n\r\n    const error = document.querySelector('.alerta__error');\r\n    if(error){\r\n        error.remove();\r\n    }\r\n    // Mensaje de error\r\n    const lang = await readLang();\r\n    const alerts = await readJSON();\r\n\r\n    divMensaje.textContent = alerts[message][lang];\r\n\r\n    // Insertar en el DOM\r\n    divCheck.appendChild(divMensaje);\r\n\r\n    // Quitar el alert despues de 3 segundos\r\n    setTimeout( () => {\r\n        divMensaje.remove();\r\n    }, 4000);\r\n}\r\n\r\n//Contrato para modal\r\nasync function getContrato(url){\r\n    try{\r\n        const res = await fetch(url);\r\n        const data = await res.json();\r\n        return data;        \r\n    }catch(err){\r\n        console.log(err);\r\n    }\r\n}\r\n\r\nasync function modalContrato(e){\r\n    e.preventDefault();\r\n        \r\n    const lang = await readLang();\r\n    const alerts = await readJSON();\r\n\r\n    const body = document.querySelector('body');\r\n    body.classList.add('overlay');\r\n\r\n    const divModal = document.createElement('div');\r\n    divModal.classList.add('register');\r\n\r\n    const modal = document.createElement('div');\r\n    modal.classList.add('register__modal');\r\n\r\n    const btnCerrar = document.createElement('button');\r\n    btnCerrar.classList.add('register__btn-cerrar');\r\n    btnCerrar.innerHTML = '<i class=\"fas fa-times\"></i>';\r\n    btnCerrar.onclick = cerrarModal;\r\n\r\n    let url;\r\n    if(e.target.id === 'contrato-musical'){\r\n        url = window.location.origin+'/api/filmtono/c-musical';\r\n    }else{\r\n        url = window.location.origin+'/api/filmtono/c-artistico';\r\n    }\r\n\r\n    const divContrato = document.createElement('div');\r\n\r\n    const contrato = await getContrato(url);\r\n    divContrato.innerHTML = contrato;   \r\n\r\n    const firmaTitulo = document.createElement('P');\r\n    firmaTitulo.textContent = alerts.signature[lang];\r\n    firmaTitulo.classList.add('firma');\r\n\r\n    const firmaInfo = document.createElement('P');\r\n    firmaInfo.textContent = alerts.signatureInfo[lang];\r\n    firmaInfo.classList.add('firma__info');\r\n\r\n    const formCanvas = document.createElement('form');\r\n\r\n    const canvas = document.createElement('canvas');\r\n    //find the screen width\r\n    const width = window.innerWidth;\r\n    //set the canvas width and height\r\n    if(width < 600){\r\n        canvas.width = 300;\r\n        canvas.height = 150;\r\n        }else{\r\n        canvas.width = 600;\r\n        canvas.height = 200;\r\n    }\r\n    canvas.style.border = '1px solid black';\r\n    canvas.style.backgroundColor = 'white';\r\n    canvas.style.margin = '0 auto';\r\n    canvas.style.display = 'block';\r\n    if(e.target.id === 'contrato-musical'){\r\n        canvas.id = 'canvas-musical';\r\n    }else{\r\n        canvas.id = 'canvas-artistico';\r\n    }\r\n\r\n    const ctx = canvas.getContext(\"2d\");\r\n    ctx.fillStyle = \"white\";\r\n    ctx.strokeStyle = \"black\";\r\n    ctx.lineWidth = 2;\r\n    ctx.lineCap = \"round\";\r\n\r\n    let isDrawing = false;\r\n    let x = 0;\r\n    let y = 0;\r\n\r\n    canvas.addEventListener(\"mousedown\", startDrawing);\r\n    canvas.addEventListener(\"mousemove\", draw);\r\n    canvas.addEventListener(\"mouseup\", stopDrawing);\r\n    canvas.addEventListener(\"touchstart\", startDrawing);\r\n    canvas.addEventListener(\"touchmove\", draw);\r\n    canvas.addEventListener(\"touchend\", stopDrawing);\r\n\r\n    function startDrawing(e) {\r\n    isDrawing = true;\r\n        if (e.touches) {\r\n            body.style.overflow = 'hidden';\r\n            [x, y] = [e.touches[0].pageX - e.target.offsetLeft, e.touches[0].pageY - e.target.offsetTop];\r\n        } else {\r\n            [x, y] = [e.offsetX, e.offsetY];\r\n        }\r\n    }\r\n\r\n    //create a function for drawing on the canvas with the finger\r\n   \r\n    function draw(e) {\r\n        if (!isDrawing) return;\r\n        ctx.beginPath();\r\n        if (e.touches) {\r\n            ctx.moveTo(x, y);\r\n            ctx.lineTo(e.touches[0].pageX - e.target.offsetLeft, e.touches[0].pageY - e.target.offsetTop);\r\n            [x, y] = [e.touches[0].pageX - e.target.offsetLeft, e.touches[0].pageY - e.target.offsetTop];\r\n        } else {\r\n            ctx.moveTo(x, y);\r\n            ctx.lineTo(e.offsetX, e.offsetY);\r\n            [x, y] = [e.offsetX, e.offsetY];\r\n        }\r\n        ctx.stroke();\r\n    }\r\n    \r\n    function stopDrawing() {\r\n        body.style.overflow = 'auto';\r\n        isDrawing = false;\r\n        ctx.beginPath();\r\n    }      \r\n\r\n    function limpiar(){\r\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n        canvas.isCanvasBlank = true;\r\n        if(canvas.id === 'canvas-musical'){\r\n            imprimirAlerta('signValidation', 'error', firmaInfo);\r\n            sendBtn.classList.add('btn-tabs--disabled');\r\n        }\r\n    }\r\n\r\n    const clearBtn = document.createElement('button');\r\n    clearBtn.classList.add('btn-contrato--optional');\r\n    clearBtn.textContent = alerts['clear'][lang];\r\n    clearBtn.onclick = limpiar;\r\n\r\n\r\n    const sendBtn = document.createElement('button');\r\n\r\n    if(canvas.id === 'canvas-musical'){\r\n        sendBtn.classList.add('btn-tabs', 'btn-tabs--disabled');\r\n    }else{\r\n        sendBtn.classList.add('btn-tabs');\r\n    }\r\n\r\n    sendBtn.textContent = alerts['save'][lang];\r\n    sendBtn.onclick = canvasValidation(canvas, sendBtn);\r\n    \r\n    //add event listener to see if the canvas is empty\r\n\r\n    formCanvas.appendChild(canvas);\r\n\r\n    modal.appendChild(btnCerrar);\r\n    modal.appendChild(divContrato);\r\n    modal.appendChild(firmaTitulo);\r\n    modal.appendChild(firmaInfo);\r\n    modal.appendChild(formCanvas);\r\n    modal.appendChild(clearBtn);\r\n    modal.appendChild(sendBtn);\r\n\r\n    divModal.appendChild(modal);\r\n    body.appendChild(divModal);\r\n\r\n\r\n    datosContrato(canvas);\r\n    paisContrato();\r\n\r\n}\r\n\r\nasync function canvasValidation(canvas, sendBtn){\r\n    const lang = await readLang();\r\n    const alerts = await readJSON();    \r\n\r\n    canvas.addEventListener('mouseup', () => {\r\n        if (!isCanvasBlank(canvas)) {\r\n            if(canvas.id==='canvas-musical'){\r\n                sendBtn.classList.remove('btn-tabs--disabled');\r\n                contratoMusical.style.display = 'none';\r\n                //contratoMusical.remove();\r\n                confirmContrato.style.display = 'block';\r\n                confirmContrato.textContent = alerts['confirm'][lang];\r\n                checkMusical = true;\r\n                hiddenMusic.value = canvas.toDataURL();\r\n            }\r\n            else{                \r\n                contratoArtistico.style.display = 'none';\r\n                confirmContratoArt.style.display = 'block';\r\n                confirmContratoArt.textContent = alerts['confirm'][lang];\r\n                hiddenArtistic.value = canvas.toDataURL();\r\n            }\r\n            sendBtn.onclick = cerrarModal;\r\n        }\r\n    });\r\n}\r\n\r\nfunction isCanvasBlank(canvas) {\r\n    const context = canvas.getContext('2d');\r\n    const pixelBuffer = new Uint32Array(\r\n      context.getImageData(0, 0, canvas.width, canvas.height).data.buffer\r\n    );\r\n    return !pixelBuffer.some(color => color !== 0);\r\n}\r\n\r\nasync function paisContrato(){\r\n    if(paisContacto.value !== '0'){\r\n        const paisFirmas = document.querySelector('#pais_contacto_name');\r\n        const lang = await readLang();\r\n        const contPais = document.querySelector('#contract-pais');\r\n        const url = `https://restcountries.com/v3.1/alpha/${paisContacto.value}`;\r\n        fetch(url)\r\n            .then(respuesta => respuesta.json())\r\n            .then(datos => {\r\n                if(lang === 'es'){\r\n                    contPais.textContent = datos[0].translations.spa.common;\r\n                    paisFirmas.value = datos[0].translations.spa.common;\r\n                }else{\r\n                    contPais.textContent = datos[0].name.common;\r\n                    paisFirmas.value = datos[0].name.common;\r\n                }\r\n\r\n            });\r\n    }\r\n}\r\n\r\nfunction datosContrato(canvas){\r\n    const gridFirmas = document.querySelector('.grid-firmas');\r\n    gridFirmas.classList.remove('no-display');\r\n\r\n    const contEmpresa = document.querySelector('#contract-empresa');\r\n    const contNombre = document.querySelector('#contract-nombre');\r\n    const contIdFiscal = document.querySelector('#contract-id-fiscal');\r\n    const contDireccion = document.querySelector('#contract-direccion');\r\n    const contTelefono = document.querySelector('#contract-telefono');\r\n    const contEmail = document.querySelector('#contract-email');\r\n    const signature = document.getElementById('signature-img');\r\n\r\n    contEmpresa.textContent = empresa.value;    \r\n    contNombre.textContent = nombre.value;\r\n    contIdFiscal.textContent = idFiscal.value;\r\n    contDireccion.textContent = direccion.value;\r\n    contTelefono.textContent = telIndex.value + telContacto.value;\r\n    contEmail.textContent = email.value;    \r\n\r\n    canvas.addEventListener('click', () => {     \r\n        signature.src = canvas.toDataURL();\r\n        signature.classList.remove('no-display');\r\n    });\r\n}\r\n\r\nfunction cerrarModal(){\r\n    const body = document.querySelector('body');\r\n    const modal = document.querySelector('.register');\r\n    body.classList.remove('overlay');\r\n    modal.remove();\r\n}"]}