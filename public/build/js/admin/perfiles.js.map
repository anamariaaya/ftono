{"version":3,"sources":["admin/perfiles.js"],"names":["botones","pagAnterior","pagSiguiente","afterNav","btnContrato","nombre","email","cargo","telContacto","empresa","idFiscal","direccion","terms","privacy","divCheck","btnSubmit","paisContacto","telIndex","hiddenMusic","hiddenArtistic","contratoMusical","contratoArtistico","confirmContrato","confirmContratoArt","selectPais","validarFormulario","imprimirAlerta","readLang","readJSON","checkMusical","paso","tabs","validarTab1","forEach","tab","addEventListener","e","target","dataset","cambiarSeccion","botonesPaginador","secciones","document","querySelectorAll","tabActivo","querySelector","inputs","classList","add","id","remove","validarTab","tabActive","console","log","arrayInputs","Array","from","input","every","value","async","lang","alerts","textContent","onclick","validarCheck","btn","modalContrato","paginador","paginaAnterior","paginaSiguiente","contains","click","formularioReg","preventDefault","checked","alertaCheck","message","divMensaje","createElement","error","appendChild","setTimeout","getContrato","url","res","fetch","json","err","body","divModal","modal","btnCerrar","innerHTML","cerrarModal","window","location","origin","divContrato","contrato","firmaTitulo","signature","firmaInfo","signatureInfo","formCanvas","canvas","innerWidth","width","height","style","border","backgroundColor","margin","display","ctx","getContext","fillStyle","strokeStyle","lineWidth","lineCap","isDrawing","x","y","startDrawing","touches","overflow","pageX","offsetLeft","pageY","offsetTop","offsetX","offsetY","draw","beginPath","moveTo","lineTo","stroke","stopDrawing","clearBtn","clearRect","isCanvasBlank","sendBtn","canvasValidation","datosContrato","paisContrato","toDataURL","context","Uint32Array","getImageData","data","buffer","some","color","paisFirmas","contPais","then","respuesta","datos","translations","spa","common","name","contEmpresa","contNombre","contIdFiscal","contDireccion","contTelefono","contEmail","getElementById","src"],"mappings":"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","file":"perfiles.js","sourcesContent":["//Módulos importados\r\nimport { botones, pagAnterior, pagSiguiente, afterNav, btnContrato, nombre, email, cargo, telContacto, empresa, idFiscal, direccion, terms, privacy, divCheck, btnSubmit, paisContacto, telIndex, hiddenMusic, hiddenArtistic, contratoMusical, contratoArtistico, confirmContrato, confirmContratoArt, selectPais} from './selectores.js';\r\nimport { validarFormulario, imprimirAlerta } from '../base/funciones.js';\r\nimport {readLang, readJSON} from '../base/funciones.js';\r\n\r\n//Variables globales\r\nlet checkMusical = false;\r\nlet paso = 1;\r\n\r\n//Funciones para el registro de empresa\r\n//*Paginador y tabs\r\n\r\nexport function tabs() {\r\n    validarTab1();\r\n    botones.forEach(tab => {\r\n        tab.addEventListener('click', function(e) {\r\n            paso = e.target.dataset.paso;\r\n            cambiarSeccion(e);\r\n            botonesPaginador();\r\n        });\r\n    });\r\n}\r\nconst secciones = document.querySelectorAll('.tabs__section');\r\nfunction cambiarSeccion(e) {   \r\n    const tabActivo = document.querySelector(`#paso-${paso}`);\r\n    tabActivo.classList.add('mostrar');\r\n    e.target.classList.add('active');\r\n    let inputs;\r\n    // Remueve la clase active de los botones\r\n    if(tabActivo.id === 'paso-1'){\r\n        botones[0].classList.add('active');\r\n        botones[1].classList.remove('active');\r\n        botones[2].classList.remove('active');\r\n        secciones[0].classList.add('mostrar');\r\n        secciones[1].classList.remove('mostrar');\r\n        secciones[2].classList.remove('mostrar');\r\n        inputs = [cargo, telContacto, paisContacto];\r\n    } else if(tabActivo.id === 'paso-2'){\r\n        botones[1].classList.add('active');\r\n        botones[2].classList.remove('active');\r\n        secciones[1].classList.add('mostrar');\r\n        secciones[2].classList.remove('mostrar');\r\n        secciones[0].classList.remove('mostrar');\r\n        inputs = [empresa, idFiscal, direccion];\r\n    } else{\r\n        botones[1].classList.add('active');\r\n        botones[2].classList.add('active');\r\n        secciones[2].classList.add('mostrar');\r\n        secciones[0].classList.remove('mostrar');\r\n        secciones[1].classList.remove('mostrar');\r\n    }\r\n}\r\n\r\nfunction validarTab(inputs){\r\n    let tabActive = document.querySelector(\".mostrar\");\r\n    console.log(tabActive.id);\r\n\r\n    if(tabActive.id === 'paso-2'){\r\n    pagSiguiente.classList.add('btn-disabled');\r\n    const arrayInputs = Array.from(inputs);\r\n    console.log(arrayInputs);\r\n    //agregar event listener a los campos\r\n        arrayInputs.forEach(input => {\r\n            input.addEventListener('input', ()=>{\r\n                if(arrayInputs.every( input => input.value !== '')){\r\n                    pagSiguiente.classList.remove('btn-disabled');\r\n                }else{\r\n                    pagSiguiente.classList.add('btn-disabled');\r\n                }\r\n            });\r\n        });  \r\n    } //validar que el array de inputs no este vacio\r\n\r\n}\r\n\r\nfunction validarTab1(){\r\n    const inputs = [cargo, telContacto, paisContacto];\r\n    const arrayInputs = Array.from(inputs);\r\n    // console.log(tabActivoId);\r\n    console.log(arrayInputs);\r\n    //agregar event listener a los campos\r\n    arrayInputs.forEach(input => {\r\n        input.addEventListener('input', ()=>{\r\n            if(arrayInputs.every( input => input.value !== '')){\r\n                pagSiguiente.classList.remove('btn-tabs--disabled');\r\n            }else{\r\n                pagSiguiente.classList.add('btn-tabs--disabled');\r\n            }\r\n        });\r\n    });   //validar que el array de inputs no este vacio\r\n\r\n}\r\n\r\nasync function botonesPaginador(){ \r\n    const lang = await readLang();\r\n    const alerts = await readJSON();\r\n\r\n    switch(paso) {\r\n        case '1':\r\n            pagAnterior.classList.add('ocultar');\r\n            pagSiguiente.classList.remove('ocultar');\r\n            afterNav.classList.remove('step2');\r\n            afterNav.classList.remove('step3');\r\n            pagSiguiente.classList.remove('btn-tabs--disabled');\r\n            break;\r\n        case '2':\r\n            pagAnterior.classList.remove('ocultar');\r\n            pagSiguiente.classList.remove('ocultar');\r\n            afterNav.classList.add('step2');\r\n            afterNav.classList.remove('step3');\r\n            pagSiguiente.classList.remove('btn-tabs--disabled');\r\n            pagSiguiente.textContent = alerts['next'][lang]+' \\u2713';\r\n            break;\r\n        case '3':\r\n            pagAnterior.classList.remove('ocultar');\r\n            pagSiguiente.textContent = alerts['register'][lang]+' \\u2713';\r\n            pagSiguiente.onclick = validarCheck;\r\n            afterNav.classList.add('step3');\r\n            afterNav.classList.remove('step2');\r\n            if(btnContrato){\r\n                btnContrato.forEach(btn => {\r\n                    btn.onclick = modalContrato;\r\n                });\r\n            };\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n}\r\n\r\nexport function paginador(){\r\n    pagAnterior.addEventListener('click', paginaAnterior);\r\n    pagSiguiente.addEventListener('click',paginaSiguiente);\r\n}\r\n\r\nfunction paginaSiguiente(){\r\n    if(!botones[1].classList.contains('active')){\r\n        botones[1].click();\r\n        const inputs = [empresa, idFiscal, direccion];\r\n        validarTab(inputs);\r\n    } else if(!botones[2].classList.contains('active')){\r\n        botones[2].click();\r\n    }\r\n}\r\n\r\nfunction paginaAnterior(e){\r\n    if(botones[2].classList.contains('active')){\r\n        pagSiguiente.classList.remove('btn-disabled');\r\n        botones[1].click();        \r\n    } else if(botones[1].classList.contains('active')){\r\n        pagSiguiente.classList.remove('btn-disabled');\r\n        botones[0].click();        \r\n    }\r\n}\r\n\r\n//Validación de formulario de registro de empresa\r\nexport function formularioReg(){\r\n    cargo.addEventListener('blur', validarFormulario);\r\n    telContacto.addEventListener('blur', validarFormulario);\r\n    empresa.addEventListener('blur', validarFormulario);\r\n    idFiscal.addEventListener('blur', validarFormulario);\r\n    direccion.addEventListener('blur', validarFormulario);\r\n}\r\n\r\nfunction validarCheck(e){\r\n    e.preventDefault();\r\n    if(!terms.checked){\r\n        alertaCheck('terms');\r\n    } else if(!privacy.checked){\r\n        alertaCheck('privacy');\r\n    } else if(checkMusical === false){\r\n        alertaCheck('contract');\r\n    }\r\n    else{\r\n        //comprobar que todos los inputs tengan un valor\r\n        const inputs = [cargo, telContacto, empresa, idFiscal,  direccion];\r\n        const arrayInputs = Array.from(inputs);\r\n\r\n        if(arrayInputs.every( input => input.value !== '')){\r\n            btnSubmit.click();\r\n        } else{\r\n            alertaCheck('inputs');\r\n        }\r\n        //e.target.type = 'submit';\r\n    }\r\n}\r\n\r\nasync function alertaCheck(message){\r\n    // Crea el div\r\n    const divMensaje = document.createElement('div');\r\n    divMensaje.classList.add('alerta__error');\r\n\r\n    const error = document.querySelector('.alerta__error');\r\n    if(error){\r\n        error.remove();\r\n    }\r\n    // Mensaje de error\r\n    const lang = await readLang();\r\n    const alerts = await readJSON();\r\n\r\n    divMensaje.textContent = alerts[message][lang];\r\n\r\n    // Insertar en el DOM\r\n    divCheck.appendChild(divMensaje);\r\n\r\n    // Quitar el alert despues de 3 segundos\r\n    setTimeout( () => {\r\n        divMensaje.remove();\r\n    }, 4000);\r\n}\r\n\r\n//Contrato para modal\r\nasync function getContrato(url){\r\n    try{\r\n        const res = await fetch(url);\r\n        const data = await res.json();\r\n        return data;        \r\n    }catch(err){\r\n        console.log(err);\r\n    }\r\n}\r\n\r\nasync function modalContrato(e){\r\n    e.preventDefault();\r\n        \r\n    const lang = await readLang();\r\n    const alerts = await readJSON();\r\n\r\n    const body = document.querySelector('body');\r\n    body.classList.add('overlay');\r\n\r\n    const divModal = document.createElement('div');\r\n    divModal.classList.add('register');\r\n\r\n    const modal = document.createElement('div');\r\n    modal.classList.add('register__modal');\r\n\r\n    const btnCerrar = document.createElement('button');\r\n    btnCerrar.classList.add('register__btn-cerrar');\r\n    btnCerrar.innerHTML = '<i class=\"fas fa-times\"></i>';\r\n    btnCerrar.onclick = cerrarModal;\r\n\r\n    let url;\r\n    if(e.target.id === 'contrato-musical'){\r\n        url = window.location.origin+'/api/filmtono/c-musical';\r\n    }else{\r\n        url = window.location.origin+'/api/filmtono/c-artistico';\r\n    }\r\n\r\n    const divContrato = document.createElement('div');\r\n\r\n    const contrato = await getContrato(url);\r\n    divContrato.innerHTML = contrato;   \r\n\r\n    const firmaTitulo = document.createElement('P');\r\n    firmaTitulo.textContent = alerts.signature[lang];\r\n    firmaTitulo.classList.add('firma');\r\n\r\n    const firmaInfo = document.createElement('P');\r\n    firmaInfo.textContent = alerts.signatureInfo[lang];\r\n    firmaInfo.classList.add('firma__info');\r\n\r\n    const formCanvas = document.createElement('form');\r\n\r\n    const canvas = document.createElement('canvas');\r\n    //find the screen width\r\n    const width = window.innerWidth;\r\n    //set the canvas width and height\r\n    if(width < 600){\r\n        canvas.width = 300;\r\n        canvas.height = 150;\r\n        }else{\r\n        canvas.width = 600;\r\n        canvas.height = 200;\r\n    }\r\n    canvas.style.border = '1px solid black';\r\n    canvas.style.backgroundColor = 'white';\r\n    canvas.style.margin = '0 auto';\r\n    canvas.style.display = 'block';\r\n    if(e.target.id === 'contrato-musical'){\r\n        canvas.id = 'canvas-musical';\r\n    }else{\r\n        canvas.id = 'canvas-artistico';\r\n    }\r\n\r\n    const ctx = canvas.getContext(\"2d\");\r\n    ctx.fillStyle = \"white\";\r\n    ctx.strokeStyle = \"black\";\r\n    ctx.lineWidth = 2;\r\n    ctx.lineCap = \"round\";\r\n\r\n    let isDrawing = false;\r\n    let x = 0;\r\n    let y = 0;\r\n\r\n    canvas.addEventListener(\"mousedown\", startDrawing);\r\n    canvas.addEventListener(\"mousemove\", draw);\r\n    canvas.addEventListener(\"mouseup\", stopDrawing);\r\n    canvas.addEventListener(\"touchstart\", startDrawing);\r\n    canvas.addEventListener(\"touchmove\", draw);\r\n    canvas.addEventListener(\"touchend\", stopDrawing);\r\n\r\n    function startDrawing(e) {\r\n    isDrawing = true;\r\n        if (e.touches) {\r\n            body.style.overflow = 'hidden';\r\n            [x, y] = [e.touches[0].pageX - e.target.offsetLeft, e.touches[0].pageY - e.target.offsetTop];\r\n        } else {\r\n            [x, y] = [e.offsetX, e.offsetY];\r\n        }\r\n    }\r\n\r\n    //create a function for drawing on the canvas with the finger\r\n   \r\n    function draw(e) {\r\n        if (!isDrawing) return;\r\n        ctx.beginPath();\r\n        if (e.touches) {\r\n            ctx.moveTo(x, y);\r\n            ctx.lineTo(e.touches[0].pageX - e.target.offsetLeft, e.touches[0].pageY - e.target.offsetTop);\r\n            [x, y] = [e.touches[0].pageX - e.target.offsetLeft, e.touches[0].pageY - e.target.offsetTop];\r\n        } else {\r\n            ctx.moveTo(x, y);\r\n            ctx.lineTo(e.offsetX, e.offsetY);\r\n            [x, y] = [e.offsetX, e.offsetY];\r\n        }\r\n        ctx.stroke();\r\n    }\r\n    \r\n    function stopDrawing() {\r\n        body.style.overflow = 'auto';\r\n        isDrawing = false;\r\n        ctx.beginPath();\r\n    }      \r\n\r\n    function limpiar(){\r\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n        canvas.isCanvasBlank = true;\r\n        if(canvas.id === 'canvas-musical'){\r\n            imprimirAlerta('signValidation', 'error', firmaInfo);\r\n            sendBtn.classList.add('btn-tabs--disabled');\r\n        }\r\n    }\r\n\r\n    const clearBtn = document.createElement('button');\r\n    clearBtn.classList.add('btn-contrato--optional');\r\n    clearBtn.textContent = alerts['clear'][lang];\r\n    clearBtn.onclick = limpiar;\r\n\r\n\r\n    const sendBtn = document.createElement('button');\r\n\r\n    if(canvas.id === 'canvas-musical'){\r\n        sendBtn.classList.add('btn-tabs', 'btn-tabs--disabled');\r\n    }else{\r\n        sendBtn.classList.add('btn-tabs');\r\n    }\r\n\r\n    sendBtn.textContent = alerts['save'][lang];\r\n    sendBtn.onclick = canvasValidation(canvas, sendBtn);\r\n    \r\n    //add event listener to see if the canvas is empty\r\n\r\n    formCanvas.appendChild(canvas);\r\n\r\n    modal.appendChild(btnCerrar);\r\n    modal.appendChild(divContrato);\r\n    modal.appendChild(firmaTitulo);\r\n    modal.appendChild(firmaInfo);\r\n    modal.appendChild(formCanvas);\r\n    modal.appendChild(clearBtn);\r\n    modal.appendChild(sendBtn);\r\n\r\n    divModal.appendChild(modal);\r\n    body.appendChild(divModal);\r\n\r\n\r\n    datosContrato(canvas);\r\n    paisContrato();\r\n\r\n}\r\n\r\nasync function canvasValidation(canvas, sendBtn){\r\n    const lang = await readLang();\r\n    const alerts = await readJSON();    \r\n\r\n    canvas.addEventListener('mouseup', () => {\r\n        if (!isCanvasBlank(canvas)) {\r\n            if(canvas.id==='canvas-musical'){\r\n                sendBtn.classList.remove('btn-tabs--disabled');\r\n                contratoMusical.style.display = 'none';\r\n                //contratoMusical.remove();\r\n                confirmContrato.style.display = 'block';\r\n                confirmContrato.textContent = alerts['confirm'][lang];\r\n                checkMusical = true;\r\n                hiddenMusic.value = canvas.toDataURL();\r\n            }\r\n            else{                \r\n                contratoArtistico.style.display = 'none';\r\n                confirmContratoArt.style.display = 'block';\r\n                confirmContratoArt.textContent = alerts['confirm'][lang];\r\n                hiddenArtistic.value = canvas.toDataURL();\r\n            }\r\n            sendBtn.onclick = cerrarModal;\r\n        }\r\n    });\r\n}\r\n\r\nfunction isCanvasBlank(canvas) {\r\n    const context = canvas.getContext('2d');\r\n    const pixelBuffer = new Uint32Array(\r\n      context.getImageData(0, 0, canvas.width, canvas.height).data.buffer\r\n    );\r\n    return !pixelBuffer.some(color => color !== 0);\r\n}\r\n\r\nasync function paisContrato(){\r\n    if(paisContacto.value !== '0'){\r\n        const paisFirmas = document.querySelector('#pais_contacto_name');\r\n        const lang = await readLang();\r\n        const contPais = document.querySelector('#contract-pais');\r\n        const url = `https://restcountries.com/v3.1/alpha/${paisContacto.value}`;\r\n        fetch(url)\r\n            .then(respuesta => respuesta.json())\r\n            .then(datos => {\r\n                if(lang === 'es'){\r\n                    contPais.textContent = datos[0].translations.spa.common;\r\n                    paisFirmas.value = datos[0].translations.spa.common;\r\n                }else{\r\n                    contPais.textContent = datos[0].name.common;\r\n                    paisFirmas.value = datos[0].name.common;\r\n                }\r\n\r\n            });\r\n    }\r\n}\r\n\r\nfunction datosContrato(canvas){\r\n    const gridFirmas = document.querySelector('.grid-firmas');\r\n    gridFirmas.classList.remove('no-display');\r\n\r\n    const contEmpresa = document.querySelector('#contract-empresa');\r\n    const contNombre = document.querySelector('#contract-nombre');\r\n    const contIdFiscal = document.querySelector('#contract-id-fiscal');\r\n    const contDireccion = document.querySelector('#contract-direccion');\r\n    const contTelefono = document.querySelector('#contract-telefono');\r\n    const contEmail = document.querySelector('#contract-email');\r\n    const signature = document.getElementById('signature-img');\r\n\r\n    contEmpresa.textContent = empresa.value;    \r\n    contNombre.textContent = nombre.value;\r\n    contIdFiscal.textContent = idFiscal.value;\r\n    contDireccion.textContent = direccion.value;\r\n    contTelefono.textContent = telIndex.value + telContacto.value;\r\n    contEmail.textContent = email.value;    \r\n\r\n    canvas.addEventListener('click', () => {     \r\n        signature.src = canvas.toDataURL();\r\n        signature.classList.remove('no-display');\r\n    });\r\n}\r\n\r\nfunction cerrarModal(){\r\n    const body = document.querySelector('body');\r\n    const modal = document.querySelector('.register');\r\n    body.classList.remove('overlay');\r\n    modal.remove();\r\n}"]}