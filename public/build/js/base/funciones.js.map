{"version":3,"sources":["base/funciones.js"],"names":["er","num","ig","imprimirAlerta","message","type","container","sibling","divMensaje","document","createElement","classList","add","error","querySelector","remove","textContent","insertBefore","setTimeout","validarFormulario","e","form","target","parentElement","value","length","test","id","inputs","querySelectorAll","Array","from","every","input","llenarDatos","arrayInputs","datos","forEach","limpiarHTML","element","firstChild","removeChild"],"mappings":"OAAQA,GAAIC,IAAKC,OAAS,gCACnB,SAASC,eAAeC,EAASC,EAAMC,EAAWC,GAErD,MAAMC,EAAaC,SAASC,cAAc,OAC1CF,EAAWG,UAAUC,IAAI,cAAe,QAAS,UAAW,UAGhD,UAATP,EACEG,EAAWG,UAAUC,IAAI,iBAEzBJ,EAAWG,UAAUC,IAAI,iBAG9B,MAAMC,EAAQJ,SAASK,cAAc,kBAClCD,GACCA,EAAME,SAIVP,EAAWQ,YAAcZ,EAGzBE,EAAUW,aAAaT,EAAYD,GAGnCW,WAAY,KACRV,EAAWO,UACZ,YAGA,SAASI,kBAAkBC,GAC9B,MAAMC,EAAOD,EAAEE,OAAOC,cAEtB,GAAGH,EAAEE,OAAOE,MAAMC,OAAS,EAAE,CAEzB,MAAMZ,EAAQJ,SAASK,cAAc,kBAClCD,GACCA,EAAME,cAKVZ,eAAe,oCAAqC,QAASkB,EAAMD,EAAEE,QAGpD,UAAlBF,EAAEE,OAAOjB,OACuB,IAA5BL,GAAG0B,KAAKN,EAAEE,OAAOE,QAChBrB,eAAe,kBAAmB,QAASkB,EAAMD,EAAEE,QAItC,QAAlBF,EAAEE,OAAOjB,QACwB,IAA7BJ,IAAIyB,KAAKN,EAAEE,OAAOE,QAAoBJ,EAAEE,OAAOE,MAAMC,OAAS,IAC7DtB,eAAe,qBAAsB,QAASkB,EAAMD,EAAEE,QAI3C,cAAhBF,EAAEE,OAAOK,KACuB,IAA5BzB,GAAGwB,KAAKN,EAAEE,OAAOE,QAChBrB,eAAe,sBAAuB,QAASkB,EAAMD,EAAEE,QAI/D,MAAMM,EAASnB,SAASoB,iBAAiB,SAErBC,MAAMC,KAAKH,GAChBI,MAAOC,GAAyB,KAAhBA,EAAMT,QACjCU,qBAID,SAASA,cACZ,MAAMN,EAASnB,SAASoB,iBAAiB,eACnCM,EAAcL,MAAMC,KAAKH,GACzBQ,EAAQ,GAId,OAHAD,EAAYE,QAASJ,IACjBG,EAAMH,EAAMN,IAAMM,EAAMT,QAErBY,SAGJ,SAASE,YAAYC,GACxB,KAAMA,EAAQC,YACVD,EAAQE,YAAYF,EAAQC","file":"funciones.js","sourcesContent":["import {er, num, ig} from '../admin/selectores.js';\r\nexport function imprimirAlerta(message, type, container, sibling) {\r\n    // Crea el div\r\n    const divMensaje = document.createElement('div');\r\n    divMensaje.classList.add('text-center', 'alert', 'd-block', 'col-12');\r\n    \r\n    // Si es de tipo error agrega una clase\r\n    if(type === 'error') {\r\n         divMensaje.classList.add('alerta__error');\r\n    } else {\r\n         divMensaje.classList.add('alerta__exito');\r\n    }\r\n\r\n    const error = document.querySelector('.alerta__error');\r\n    if(error){\r\n        error.remove();\r\n    }\r\n\r\n    // Mensaje de error\r\n    divMensaje.textContent = message;\r\n\r\n    // Insertar en el DOM\r\n    container.insertBefore(divMensaje, sibling);\r\n\r\n    // Quitar el alert despues de 3 segundos\r\n    setTimeout( () => {\r\n        divMensaje.remove();\r\n    }, 3000);\r\n}\r\n\r\nexport function validarFormulario(e) {\r\n    const form = e.target.parentElement;\r\n\r\n    if(e.target.value.length > 0){\r\n        //Elimina los errores\r\n        const error = document.querySelector('.alerta__error');\r\n        if(error){\r\n            error.remove();\r\n        }\r\n       \r\n    } else {\r\n        //console.log('No hay nada');\r\n        imprimirAlerta('Todos los campos son obligatorios', 'error', form, e.target);\r\n    }\r\n\r\n    if(e.target.type === 'email'){\r\n        if(er.test(e.target.value) === false){\r\n            imprimirAlerta('Email no valido', 'error', form, e.target);\r\n        } \r\n    }\r\n\r\n    if(e.target.type === 'tel'){\r\n        if(num.test(e.target.value) === false || e.target.value.length < 9){\r\n            imprimirAlerta('TelÃ©fono no valido', 'error', form, e.target);\r\n        } \r\n    }\r\n\r\n    if(e.target.id === 'instagram'){\r\n        if(ig.test(e.target.value) === false){\r\n            imprimirAlerta('Instagram no valido', 'error', form, e.target);\r\n        } \r\n    }\r\n    //comprobar que todos los campos esten llenos\r\n    const inputs = document.querySelectorAll('input');\r\n    //comprobar que todos los inputs tengan un valor\r\n    const arrayInputs = Array.from(inputs);\r\n    if(arrayInputs.every( input => input.value !== '')){\r\n        llenarDatos();\r\n    }\r\n}\r\n\r\nexport function llenarDatos() {\r\n    const inputs = document.querySelectorAll('.form input');\r\n    const arrayInputs = Array.from(inputs);\r\n    const datos = {};\r\n    arrayInputs.forEach( input => {\r\n        datos[input.id] = input.value;\r\n    });\r\n    return datos;\r\n}\r\n\r\nexport function limpiarHTML(element){\r\n    while(element.firstChild) {\r\n        element.removeChild(element.firstChild);\r\n    }\r\n}"]}